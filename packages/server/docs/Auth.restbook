[{"kind":1,"language":"markdown","value":"# No auth routes:","outputs":[]},{"kind":1,"language":"markdown","value":"## register","outputs":[]},{"kind":1,"language":"markdown","value":"The jwt is set as an HTTP only cookie, check the headers","outputs":[]},{"kind":2,"language":"rest-book","value":"POST http://localhost:3030/register\n\n{\n  \"name\" : \"RESTbook\",\n  \"email\": \"restbook@test.com\",\n  \"phone\": \"0 89 999 9999\",\n  \"password\": \"123456789!\",\n  \"confirmPassword\": \"123456789!\"\n}","outputs":[{"mime":"x-application/rest-book","value":{"status":201,"statusText":"Created","headers":{"Date":"Wed, 12 Feb 2025 20:20:40 GMT","Content-Type":"application/json; charset=utf-8","Content-Length":"29","Set-Cookie":["jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Inhhc0owbVpsdVA5TTI0MVRJamRTIiwiaWF0IjoxNzM5MzkxNjQwLCJleHAiOjE3NDcxNjc2NDB9.dW_5Q-RiqO9TDNS5E1AqvsNjb5PzUK8Mfc1la6BI_bM; Path=/; HttpOnly"],"Connection":"close"},"config":{"timeout":10000,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/0.21.4","Content-Length":126}},"request":{"method":"POST","httpVersion":"1.1","responseUrl":"http://localhost:3030/register","timeout":10000,"headers":{},"data":{"name":"RESTbook","email":"restbook@test.com","phone":"0 89 999 9999","password":"123456789!","confirmPassword":"123456789!"}},"data":{"id":"xasJ0mZluP9M241TIjdS"}}},{"mime":"text/x-json","value":{"status":201,"statusText":"Created","headers":{"Date":"Wed, 12 Feb 2025 20:20:40 GMT","Content-Type":"application/json; charset=utf-8","Content-Length":"29","Set-Cookie":["jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Inhhc0owbVpsdVA5TTI0MVRJamRTIiwiaWF0IjoxNzM5MzkxNjQwLCJleHAiOjE3NDcxNjc2NDB9.dW_5Q-RiqO9TDNS5E1AqvsNjb5PzUK8Mfc1la6BI_bM; Path=/; HttpOnly"],"Connection":"close"},"config":{"timeout":10000,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/0.21.4","Content-Length":126}},"request":{"method":"POST","httpVersion":"1.1","responseUrl":"http://localhost:3030/register","timeout":10000,"headers":{},"data":{"name":"RESTbook","email":"restbook@test.com","phone":"0 89 999 9999","password":"123456789!","confirmPassword":"123456789!"}},"data":{"id":"xasJ0mZluP9M241TIjdS"}}},{"mime":"text/html","value":"[object Object]"}]},{"kind":1,"language":"markdown","value":"## login:","outputs":[]},{"kind":2,"language":"rest-book","value":"POST http://localhost:3030/login\n\n{\n  \"email\": \"restbook@test.com\",\n  \"password\": \"123456789!\"\n}","outputs":[{"mime":"x-application/rest-book","value":{"status":200,"statusText":"OK","headers":{"Date":"Thu, 13 Feb 2025 09:23:24 GMT","Content-Type":"application/json; charset=utf-8","Content-Length":"29","Set-Cookie":["jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6InUtc0owbVpsdVA5TTI0MVRJamRTIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzM5NDM4NjA0LCJleHAiOjE3NDcyMTQ2MDR9.PfJEP1D4oLbidbEu8na2jjJyr2TE7QdSKuSKwngJ_F4; Path=/; HttpOnly"],"Connection":"close"},"config":{"timeout":10000,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/0.21.4","Content-Length":53}},"request":{"method":"POST","httpVersion":"1.1","responseUrl":"http://localhost:3030/login","timeout":10000,"headers":{},"data":{"email":"restbook@test.com","password":"123456789!"}},"data":{"id":"u-sJ0mZluP9M241TIjdS"}}},{"mime":"text/x-json","value":{"status":200,"statusText":"OK","headers":{"Date":"Thu, 13 Feb 2025 09:23:24 GMT","Content-Type":"application/json; charset=utf-8","Content-Length":"29","Set-Cookie":["jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6InUtc0owbVpsdVA5TTI0MVRJamRTIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzM5NDM4NjA0LCJleHAiOjE3NDcyMTQ2MDR9.PfJEP1D4oLbidbEu8na2jjJyr2TE7QdSKuSKwngJ_F4; Path=/; HttpOnly"],"Connection":"close"},"config":{"timeout":10000,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/0.21.4","Content-Length":53}},"request":{"method":"POST","httpVersion":"1.1","responseUrl":"http://localhost:3030/login","timeout":10000,"headers":{},"data":{"email":"restbook@test.com","password":"123456789!"}},"data":{"id":"u-sJ0mZluP9M241TIjdS"}}},{"mime":"text/html","value":"[object Object]"}]},{"kind":1,"language":"markdown","value":"---","outputs":[]},{"kind":1,"language":"markdown","value":"# Authenticate user\nThis checks the cookie\n\n> To save secrets, look for the command REST Book: Secrets in the command palette with Ctrl+Shift+P. Add a new secret and a name for that secret. Then when use your secrets in your calls using the $SECRETS variable.\n\nIn our case we will set the secret as \"jwt\" so we can reuse it in all our other routes","outputs":[]},{"kind":2,"language":"rest-book","value":"GET http://localhost:3030/user\nCookie: jwt=$SECRETS.jwt","outputs":[{"mime":"x-application/rest-book","value":{"status":200,"statusText":"OK","headers":{"Date":"Wed, 12 Feb 2025 20:23:35 GMT","Content-Type":"application/json; charset=utf-8","Content-Length":"61","Connection":"close"},"config":{"timeout":10000,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","headers":{"Accept":"application/json, text/plain, */*","Cookie":"jwt=[SECRET jwt]","User-Agent":"axios/0.21.4"}},"request":{"method":"GET","httpVersion":"1.1","responseUrl":"http://localhost:3030/user","timeout":10000,"headers":{"Cookie":"jwt=[SECRET jwt]"}},"data":{"id":"xasJ0mZluP9M241TIjdS","name":"RESTbook","role":"user"}}},{"mime":"text/x-json","value":{"status":200,"statusText":"OK","headers":{"Date":"Wed, 12 Feb 2025 20:23:35 GMT","Content-Type":"application/json; charset=utf-8","Content-Length":"61","Connection":"close"},"config":{"timeout":10000,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","headers":{"Accept":"application/json, text/plain, */*","Cookie":"jwt=[SECRET jwt]","User-Agent":"axios/0.21.4"}},"request":{"method":"GET","httpVersion":"1.1","responseUrl":"http://localhost:3030/user","timeout":10000,"headers":{"Cookie":"jwt=[SECRET jwt]"}},"data":{"id":"xasJ0mZluP9M241TIjdS","name":"RESTbook","role":"user"}}},{"mime":"text/html","value":"[object Object]"}]}]